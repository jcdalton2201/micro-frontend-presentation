export class UserIcon extends HTMLElement {
    constructor(){
        super();
        this.attachShadow({mode: 'open'});
    }
    connectedCallback(){
        this.shadowRoot.innerHTML = `
<style>
:root {
    --animation-time: 2.4s; 
}
#lid {
    animation: blink var(--animation-time) infinite;
}

#left-eye {
    transform: translate(143px, 130px);
    animation: squeeze-left var(--animation-time) infinite;
}

#right-eye {
    transform: translate(228px, 130px);
    animation: squeeze-right var(--animation-time) infinite;
}


@keyframes blink {
    90% {
        transform: none;
        animation-timing-function: ease-in;
    }

    93% {
        transform: translateY(15px) scaleY(0)
    }

    100% {
        animation-timing-function: ease-out;
    }
}
@keyframes squeeze-left {
    90% {
        transform: translate(143px, 130px);
        animation-timing-function: ease-in;
    }

    93% {
        transform: translate(143px, 133px) scaleY(0.8)
    }

    100% {
        animation-timing-function: ease-out;
    }
}
@keyframes squeeze-right {
    90% {
        transform: translate(228px, 130px);
        animation-timing-function: ease-in;
    }

    93% {
        transform: translate(228px, 133px) scaleY(0.8)
    }

    100% {
        animation-timing-function: ease-out;
    }
}
</style>
    <svg viewBox="0 0 400 400" width="400px">
    <defs>
        
        <path
        d="M0,15.089434 C0,16.3335929 5.13666091,24.1788679 14.9348958,24.1788679 C24.7325019,24.1788679 29.8697917,16.3335929 
        29.8697917,15.089434 C29.8697917,13.8456167 24.7325019,6 14.9348958,6 C5.13666091,6 0,13.8456167 0,15.089434 Z"
        id="outline"></path>
        <mask id="mask">
            <rect width="100%" height="100%" fill="white"></rect>
            <use xlink:href="#outline" id="lid" fill="balck" />
        </mask>
    </defs>
    <g id="body-head" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="neck" fill="#FECDA5" points="158 247 158 331 246 331 246 247"></polygon>
      <g id="all-head" fill="none fill-rule="evenodd">
        <path  d="M115,177 C112.77977,181.258709 110.113103,181.592042 107,178 C102.330345,172.611937 98.8534308,149.038977 100,137 C100.039052,136.589956 100.937097,136.380327 101,136 C101.778886,131.290676 107.112219,132.290676 117,139 L115,177 Z" id="left-ear" stroke="#000000" fill="#FECDA5"></path>
        <path  d="M295,177 C292.77977,181.258709 290.113103,181.592042 287,178 C282.330345,172.611937 278.853431,149.038977 280,137 C280.039052,136.589956 280.937097,136.380327 281,136 C281.778886,131.290676 287.112219,132.290676 297,139 L295,177 Z" id="right-ear" stroke="#000000" fill="#FECDA5" transform="translate(288.389855, 156.775952) scale(-1, 1) translate(-288.389855, -156.775952) "></path>
        <ellipse id="head" stroke="#000000" stroke-width="2" cx="200" cy="149" rx="87" ry="114" fill='#FECDA5'></ellipse>
        <g id="right-eye" class='eye'  fill="#000000" fill-rule="nonzero">
            <circle r="8" fill="white" cx="15" cy="9"></circle>
            <path d="
                        M0,9.5 
                        C0,10.8003571 5.15905263,19 15,19 
                        C24.8403157,19 30,10.8003571 30,9.5 
                        C30,8.20000003 24.8403157,0 15,0 
                        C5.15905263,0 0,8.20000003 0,9.5 Z  " id='right-outline' fill='white' stroke='black'></path>
                        <path d="
                        M14.9999999,16.8078572 C11.3182105,16.8078572 
                            8.33305262,13.5360715 8.33305262,9.50000005 C8.33305262,5.46392862 11.3182105,2.19214286 14.9999999,2.19214286 
                            C18.6817894,2.19214286 21.6666316,5.46392862 21.6666316,9.50000005 C21.6666316,13.5360715 18.6817894,16.8078572 
                            14.9999999,16.8078572 L14.9999999,16.8078572 Z " id='right-puple' fill='#8EB9DD'></path>
                        <circle r="3" fill="white" cx="15" cy="9"></circle>
                        <path d="M18.3331579,9.50000005 C18.3331579,11.5178571 16.840421,13.1542858 
                        14.9999999,13.1542858 C13.1589474,13.1542858 11.6668421,11.5178571 11.6668421,9.50000005 C11.6668421,7.48214285 
                        13.1589474,5.84607147 14.9999999,5.84607147 C15.9947368,5.84607147 14.389579,8.74178574 14.9999999,9.50000005 
                        C15.5188421,10.1439286 18.3331579,8.57321431 18.3331579,9.50000005 L18.3331579,9.50000005 Z" id='right-iris'></path>
            <g transform="translate(0,-5)">

                <use xlink:href="#outline" mask="url(#mask)" fill="black" />
            </g>
        </g>
        <g id="left-eye"   transform="translate(143.000000, 130.000000)" fill="#000000" fill-rule="nonzero">
            <path d="
            M0,9.5 
            C0,10.8003571 5.15905263,19 15,19 
            C24.8403157,19 30,10.8003571 30,9.5 
            C30,8.20000003 24.8403157,0 15,0 
            C5.15905263,0 0,8.20000003 0,9.5 Z  " id='right-outline' fill='white' stroke='black'></path>
            <path d="
            M14.9999999,16.8078572 C11.3182105,16.8078572 
            8.33305262,13.5360715 8.33305262,9.50000005 C8.33305262,5.46392862 11.3182105,2.19214286 14.9999999,2.19214286 
            C18.6817894,2.19214286 21.6666316,5.46392862 21.6666316,9.50000005 C21.6666316,13.5360715 18.6817894,16.8078572 
            14.9999999,16.8078572 L14.9999999,16.8078572 Z " id='right-puple' fill='#8EB9DD'></path>
            <circle r="3" fill="white" cx="15" cy="9"></circle>
            <path d="M18.3331579,9.50000005 C18.3331579,11.5178571 16.840421,13.1542858 
                            14.9999999,13.1542858 C13.1589474,13.1542858 11.6668421,11.5178571 11.6668421,9.50000005 C11.6668421,7.48214285 
                            13.1589474,5.84607147 14.9999999,5.84607147 C15.9947368,5.84607147 14.389579,8.74178574 14.9999999,9.50000005 
                            C15.5188421,10.1439286 18.3331579,8.57321431 18.3331579,9.50000005 L18.3331579,9.50000005 Z" id='right-iris'></path>
            <g transform="translate(0,-5)">
                <use xlink:href="#outline" mask="url(#mask)" fill="black" />
            </g>
        </g>
        <path d="M158,78 L185,85 L185,78 L200,85 L209,78 L217,85 L250,71 L282,132 L282,162 L292,107 L302,130 C305.793566,120.649695 307.460233,112.983028 307,107 C306.539767,101.016972 303.539767,91.3503052 298,78 L311,92 C308.653846,78.7975327 304.320513,68.7975327 298,62 C291.679487,55.2024673 278.346154,46.2024673 258,35 L287,40 C267.216036,29.8497898 251.549369,22.8497898 240,19 C228.450631,15.1502102 215.117297,12.4835436 200,11 C188.954901,9.16976287 179.954901,9.16976287 173,11 C166.045099,12.8302371 156.045099,17.8302371 143,26 C135.916216,31.9240471 131.582883,36.5907138 130,40 C128.417117,43.4092862 128.417117,48.0759529 130,54 C121.957926,55.6301803 116.29126,59.9635137 113,67 C109.70874,74.0364863 105.70874,85.703153 101,102 C99.2706069,115.37066 99.2706069,125.37066 101,132 C102.729393,138.62934 106.729393,148.62934 113,162 L122,125 L158,78 Z" id="hair" stroke="#000000" fill="#4D4C4C"></path>
        <path d="M174.940563,210.457427 C183.172181,212.363612 190.191993,213.54447 196,214 C202.259249,214.490921 211.592582,214.490921 224,214 C211.528312,216.180786 202.194979,217.514119 196,218 C190.244303,218.451427 183.218232,217.332492 174.921786,214.643194 C173.776016,214.271779 173,213.204466 173,212 C173,211.12554 173.70889,210.416649 174.583351,210.416649 C174.703582,210.416649 174.823422,210.430344 174.940563,210.457427 Z" id="mouth" stroke="#000000" fill="#000000"></path>
        <path d="M179,169 C186.111111,174.333333 192.111111,177 197,177 C201.888889,177 210.222222,174.333333 222,169" id="nose" stroke="#000000" stroke-width="2" stroke-linecap="round"></path>
      
      
      </g> 
    <path d="M158,277 L158,305 L187.775056,317.902524 C187.92446,317.967266 188.065398,318.05001 188.194741,318.14892 L205,331 L222,318 L246,304 L246,277 C256.353107,280.019774 264.019774,284.019774 269,289 C273.980226,293.980226 279.980226,303.646893 287,318 C309.308005,321.514067 324.641338,325.8474 333,331 C341.358662,336.1526 350.358662,346.819267 360,363 L360,400 L54,400 L54,363 C63.2563635,346.810118 71.2563635,336.143452 78,331 C84.7436365,325.856548 96.4103032,321.523215 113,318 C121.237595,303.916858 128.237595,294.250191 134,289 C139.762405,283.749809 147.762405,279.749809 158,277 Z" id="Path-2" stroke="#979797" fill="#323FB8"></path>
    </g>
</svg>
        `;
        setInterval(()=>{
            const blink = Math.floor(Math.random()  * 5) +1;
            this.shadowRoot.querySelector('#lid').style.setProperty('--animation-time', blink +'s');
            this.shadowRoot.querySelector('#left-eye').style.setProperty('--animation-time', blink +'s');
            this.shadowRoot.querySelector('#right-eye').style.setProperty('--animation-time', blink +'s');
        },1000);
    }
}
if(!customElements.get('user-icon')){
    customElements.define('user-icon',UserIcon);
}